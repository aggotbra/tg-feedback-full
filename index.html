<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Tiger.com Feedback</title>
  <style>
    body{margin:0;font-family:sans-serif;background:#0f172a;color:#f1f5f9;display:flex;align-items:center;justify-content:center;min-height:100vh}
    .card{background:#1e293b;padding:24px;border-radius:12px;box-shadow:0 0 20px rgba(0,0,0,.5);width:400px;text-align:center}
    h1{margin-bottom:16px;font-size:20px}
    .step{margin:12px 0}
    button,.chip{padding:10px 16px;margin:6px;border:none;border-radius:8px;cursor:pointer;font-size:14px}
    button{background:#2563eb;color:#fff}
    button:hover{background:#1d4ed8}
    .chip{background:#334155;color:#f1f5f9}
    .chip.selected{background:#2563eb}
    textarea{width:100%;padding:10px;border-radius:8px;border:none;margin-top:10px;background:#0f172a;color:#f1f5f9;resize:vertical}
    input[type=file]{margin-top:10px}
    .nav{margin-top:20px;display:flex;justify-content:space-between}
  </style>
</head>
<body>
  <div class="card">
    <h1>Tiger.com Feedback</h1>
    <div id="app"></div>
  </div>
<script>
const steps = [
  { q:"Кто вы?", opts:["Вы пользователь?","Вы админ?"] },
  { q:"Выберите продукт", opts:["Tiger.com Windows","Tiger.com macOS","Tiger.com Broker"] },
  { q:"Что вы хотите сделать?", opts:["Оставить предложение","Посмотреть другие предложения"] },
  { q:"Выберите тему", opts:["Сделки","График","Котировки","Подключения","Кастомизация","Индикаторы","Графические объекты","Другое"] },
  { q:"Опишите ваше предложение", input:true }
];
let current=0, answers={};
function render(){
  const el=document.getElementById("app");
  const step=steps[current];
  let html=`<div class='step'><div>${step.q}</div>`;
  if(step.opts){
    html+=step.opts.map(o=>`<div class="chip" onclick="select('${o}')">${o}</div>`).join("");
  }
  if(step.input){
    html+=`<textarea id="text" placeholder="Опишите улучшение..."></textarea><br><input type="file" id="file"/>`;
  }
  html+=`</div><div class="nav">`;
  if(current>0) html+=`<button onclick="prev()">Назад</button>`;
  if(current<steps.length-1) html+=`<button onclick="next()">Далее</button>`;
  else html+=`<button onclick="submit()">Отправить</button>`;
  html+=`</div>`;
  el.innerHTML=html;
}
function select(val){answers[current]=val;document.querySelectorAll(".chip").forEach(c=>c.classList.remove("selected"));event.target.classList.add("selected");}
function next(){if(steps[current].opts&&!answers[current])return alert("Выберите вариант");current++;render();}
function prev(){current--;render();}
async function submit(){
  const text=document.getElementById("text").value.trim();
  const file=document.getElementById("file").files[0];
  const data={...answers,text};
  alert("Спасибо! Данные собраны: "+JSON.stringify(data));
}
render();
</script>
</body>
</html>
